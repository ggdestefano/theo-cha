<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Lista de Presentes - ChÃ¡ de bebÃª do ThÃ©o</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    background-color: #4a90e2;
    color: #fff;
  }
  h1 {
    text-align: center;
    margin-bottom: 20px;
  }
  ul {
    list-style: none;
    padding: 0;
  }
  li {
    background: #fff;
    color: #333;
    margin: 8px 0;
    padding: 12px 15px;
    border-radius: 6px;
    font-size: 18px;
    position: relative;
  }
  li.limite-atingido {
    background: #ffebee;
    color: #a00;
    font-weight: bold;
  }
  li.limite-atingido::after {
    content: " (Limite atingido)";
    color: #a00;
    font-weight: bold;
  }
</style>
</head>
<body>
  <h1>ðŸŽˆ ChÃ¡ de bebÃª do ThÃ©o - Lista de Presentes ðŸŽˆ</h1>
  <ul id="lista-presentes">
    <li>Carregando lista...</li>
  </ul>

<script>
  const URL_APPS_SCRIPT = 'https://script.google.com/macros/s/AKfycbxg9a7M1rI9eJRabn6LFZe8BqoELhf9K602Taz1B6UJw0fam3XAmJVhiTI5qRnO1t2nbw/exec';

  // Mesma lista fixa que vocÃª usa no Apps Script (A2:A26)
  const presentes = [
    "Body Manga Longa (6-9)",
    "Body Manga Curta (6-9)",
    "Kit de lenÃ§os umedecidos",
    "Shampoo e sabonete baby",
    "Conjunto de roupinhas de banho",
    "Escova e pente",
    "Conjunto de potinhos para papinhas",
    "Babador",
    "Manta",
    "Cortador de unhas para bebÃª",
    "MacacÃ£o de dormir",
    "Urso de pelÃºcia",
    "Almofada de amamentaÃ§Ã£o",
    "Pomada para Assadura",
    "Cueiro",
    "Paninho de Boca",
    "Toalha de banho",
    "MijÃ£ozinho",
    "Sapatinhos",
    "Meias",
    "Aspirador Nasal",
    "Naninha",
    "Trocador",
    "Talco",
    "Saboneteira"
  ];

  function formatarChave(item) {
    return item.toLowerCase().replace(/\s+/g, "_");
  }

  async function carregarLista() {
    const ul = document.getElementById('lista-presentes');
    ul.innerHTML = '<li>Carregando lista...</li>';

    try {
      const res = await fetch(URL_APPS_SCRIPT);
      if (!res.ok) throw new Error('Erro ao carregar dados');
      const data = await res.json();

      ul.innerHTML = '';

      presentes.forEach(item => {
        const chave = formatarChave(item);
        const contadorObj = data[chave] || { contador: 0, limite: 0 };
        const li = document.createElement('li');

        if (contadorObj.limite > 0 && contadorObj.contador >= contadorObj.limite) {
          li.classList.add('limite-atingido');
        }
        
        li.textContent = item;
        ul.appendChild(li);
      });

    } catch (e) {
      ul.innerHTML = '<li>Erro ao carregar a lista.</li>';
      console.error(e);
    }
  }

  carregarLista();
</script>
</body>
</html>

